<!doctype lake><title>刷题心得</title><meta name="doc-version" content="1" /><meta name="viewport" content="fixed" /><meta name="typography" content="classic" /><meta name="paragraphSpacing" content="relax" /><details data-lake-id="ua9002099" id="ua9002099" open="false" class="lake-collapse"><summary data-lake-id="u95330d6c" id="u95330d6c" class="lake-summary"><strong><span data-lake-id="u370f5f9b" id="u370f5f9b">sum/2 vs sum&gt;&gt;1</span></strong></summary><ul list="ud0e4a84a"><li fid="ud720b0dc" data-lake-id="u37a807d0" id="u37a807d0"><strong><span data-lake-id="ub1526dc6" id="ub1526dc6">sum/2 </span></strong></li></ul><ul list="ud0e4a84a" data-lake-indent="1"><li fid="ud720b0dc" data-lake-id="u11f54066" id="u11f54066"><span data-lake-id="ued675e25" id="ued675e25">更普适更安全，包括负数和边界值处理</span></li></ul><ul list="ud0e4a84a" start="2"><li fid="ud720b0dc" data-lake-id="u0b3826c1" id="u0b3826c1"><strong><span data-lake-id="ucf5c5fdb" id="ucf5c5fdb">sum&gt;&gt;1 </span></strong></li></ul><ul list="ud0e4a84a" data-lake-indent="1"><li fid="ud720b0dc" data-lake-id="uc910b727" id="uc910b727"><span data-lake-id="u4bed57b2" id="u4bed57b2">直接对二进制位操作，涉及大量运算时性能更高</span></li><li fid="ud720b0dc" data-lake-id="ub8ea12fd" id="ub8ea12fd"><span data-lake-id="u1d8c9e48" id="u1d8c9e48">右移保留符号位</span></li></ul><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%20%20%E5%8F%B3%E7%A7%BB%E4%BF%9D%E7%95%99%E7%AC%A6%E5%8F%B7%E4%BD%8D%22%2C%22mode%22%3A%22java%22%2C%22code%22%3A%22int%20sum%20%3D%20-5%3B%5Cn%5Cnint%20result1%20%3D%20sum%20%2F%202%3B%20%20%2F%2F%20result1%20%3D%20-2%5Cnint%20result2%20%3D%20sum%20%3E%3E%201%3B%20%2F%2F%20result2%20%3D%20-3%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%20%20%E5%8F%B3%E7%A7%BB%E4%BF%9D%E7%95%99%E7%AC%A6%E5%8F%B7%E4%BD%8D%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22default%22%2C%22customStyle%22%3A%5B%5D%2C%22fontSize%22%3A14%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22jWu7T%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D" hindent="2em"></card><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22-5%20%3E%3E%201%20%3D%20-3%22%2C%22mode%22%3A%22java%22%2C%22code%22%3A%22%EF%BC%881%EF%BC%89%E8%A1%A5%E7%A0%81%E8%A1%A8%E7%A4%BA%5Cn%20%20%20%205%20%E7%9A%84%E4%BA%8C%E8%BF%9B%E5%88%B6%E8%A1%A8%E7%A4%BA%EF%BC%8832%E4%BD%8D%EF%BC%89%EF%BC%9A%5Cn%20%20%20%200000%200000%200000%200000%200000%200000%200000%200101%5Cn%20%20%20%20%E5%8F%8D%E7%A0%81%5Cn%20%20%20%201111%201111%201111%201111%201111%201111%201111%201010%5Cn%20%20%20%20%E8%A1%A5%E7%A0%81%5Cn%20%20%20%201111%201111%201111%201111%201111%201111%201111%201011%5Cn%EF%BC%882%EF%BC%89%3E%3E%20%E6%98%AF%E7%AE%97%E6%9C%AF%E5%8F%B3%E7%A7%BB%EF%BC%8C%E4%B9%9F%E7%A7%B0%E4%B8%BA%E7%AC%A6%E5%8F%B7%E6%89%A9%E5%B1%95%E5%8F%B3%E7%A7%BB%5Cn%20%20%20%20%E5%8E%9F%E5%A7%8B%EF%BC%9A%20%201111%201111%201111%201111%201111%201111%201111%201011%20%20%EF%BC%88-5%20%E7%9A%84%E4%BA%8C%E8%BF%9B%E5%88%B6%E8%A1%A5%E7%A0%81%E8%A1%A8%E7%A4%BA%EF%BC%89%5Cn%20%20%20%20%E5%8F%B3%E7%A7%BB1%E4%BD%8D%EF%BC%9A1111%201111%201111%201111%201111%201111%201111%201101%5Cn%EF%BC%883%EF%BC%89%E5%B0%86%E4%BA%8C%E8%BF%9B%E5%88%B6%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%8D%81%E8%BF%9B%E5%88%B6%5Cn%20%20%20%20%E5%AF%B9%E4%BA%8E%E6%AD%A3%E6%95%B0%EF%BC%9A%E5%8E%9F%E7%A0%81%EF%BC%8C%E8%BD%AC%E6%8D%A2%E6%97%B6%E7%9B%B4%E6%8E%A5%E6%8C%89%E6%9D%83%E5%80%BC%E8%AE%A1%E7%AE%97%E5%8D%B3%E5%8F%AF%EF%BC%8C%E6%97%A0%E9%9C%80%E8%A1%A5%E7%A0%81%E5%A4%84%E7%90%86%E3%80%82%5Cn%20%20%20%20%E5%AF%B9%E4%BA%8E%E8%B4%9F%E6%95%B0%EF%BC%9A%E8%A1%A5%E7%A0%81%EF%BC%8C%E8%BD%AC%E6%8D%A2%E6%97%B6%E9%9C%80%E8%A6%81%E5%8F%96%E5%8F%8D%E3%80%81%E5%8A%A01%E5%BE%97%E5%88%B0%E5%AE%83%E7%9A%84%E7%BB%9D%E5%AF%B9%E5%80%BC%EF%BC%8C%E5%86%8D%E5%8A%A0%E4%B8%8A%E8%B4%9F%E5%8F%B7%E3%80%82%5Cn%20%20%20%20%E5%8F%96%E5%8F%8D%5Cn%20%20%20%200000%200000%200000%200000%200000%200000%200000%200010%5Cn%20%20%20%20%E5%8A%A01%5Cn%20%20%20%200000%200000%200000%200000%200000%200000%200000%200011%5Cn%20%20%20%20%E8%BF%99%E4%B8%AA%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%95%B0%E7%9A%84%E7%BB%9D%E5%AF%B9%E5%80%BC%E6%98%AF%203%EF%BC%8C%E5%9B%A0%E6%AD%A4%E5%8F%B3%E7%A7%BB%E5%90%8E%E7%9A%84%E7%BB%93%E6%9E%9C%E6%98%AF%20-3%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22-5%20%3E%3E%201%20%3D%20-3%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22default%22%2C%22customStyle%22%3A%5B%5D%2C%22fontSize%22%3A14%2C%22__spacing%22%3A%22both%22%2C%22__widthMode%22%3A%22normal%22%2C%22id%22%3A%22QLVqS%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%2C%22widthMode%22%3A%22normal%22%7D" hindent="2em"></card></details><details data-lake-id="u4026d554" id="u4026d554" open="false" class="lake-collapse"><summary data-lake-id="u4e7aa3ae" id="u4e7aa3ae" class="lake-summary"><strong><span data-lake-id="u08817232" id="u08817232">Arrays.toString(charArray) 和new String(charArray) 的区别？</span></strong></summary><p data-lake-id="ued8dbb13" id="ued8dbb13"><code data-lake-id="ua6216433" id="ua6216433"><span data-lake-id="ud69cee8a" id="ud69cee8a">Arrays.toString(charArray)</span></code><span data-lake-id="u04cdecc4" id="u04cdecc4"> -&gt; </span><strong><span data-lake-id="ue243ac5e" id="ue243ac5e"> &quot;[H, e, l, l, o]&quot;  </span></strong></p><p data-lake-id="u9252aebf" id="u9252aebf"><code data-lake-id="u0e703e27" id="u0e703e27"><span data-lake-id="u36661663" id="u36661663">new String(charArray)</span></code><span data-lake-id="u9ac3735e" id="u9ac3735e"> -&gt; </span><strong><span data-lake-id="u90cd5a63" id="u90cd5a63"> &quot;Hello&quot;  </span></strong></p></details><details data-lake-id="u8f4ef8a6" id="u8f4ef8a6" open="false" class="lake-collapse"><summary data-lake-id="u5810d420" id="u5810d420" class="lake-summary"><strong><span data-lake-id="u4655a1df" id="u4655a1df"> Arrays.sort(nums);用的是什么排序？</span></strong></summary><ul list="u7ae147fb"><li fid="ucae9389a" data-lake-id="u80482ad6" id="u80482ad6"><span data-lake-id="u36ae8951" id="u36ae8951">对于 </span><strong><span data-lake-id="u2cad0636" id="u2cad0636">基本类型数组</span></strong><span data-lake-id="u09089051" id="u09089051">（如 </span><code data-lake-id="uf241520f" id="uf241520f"><span data-lake-id="uff928074" id="uff928074">int[]</span></code><span data-lake-id="u79c404b8" id="u79c404b8">, </span><code data-lake-id="u64aa7604" id="u64aa7604"><span data-lake-id="u18aa77dc" id="u18aa77dc">char[]</span></code><span data-lake-id="u7dde3d72" id="u7dde3d72">, </span><code data-lake-id="u4f24db28" id="u4f24db28"><span data-lake-id="u25720146" id="u25720146">double[]</span></code><span data-lake-id="u555578cf" id="u555578cf"> 等）<br /></span><span data-lake-id="ua77decff" id="ua77decff">使用</span><strong><span data-lake-id="u98fb2139" id="u98fb2139">改进的快速排序</span></strong><span data-lake-id="u54a2d110" id="u54a2d110">， </span><strong><span data-lake-id="u5125fa43" id="u5125fa43">Dual-Pivot Quicksort</span></strong><span data-lake-id="u30a36ae9" id="u30a36ae9">。</span></li><li fid="ucae9389a" data-lake-id="u89865c73" id="u89865c73"><span data-lake-id="u795f8d1b" id="u795f8d1b">对于 </span><strong><span data-lake-id="u6d98b29e" id="u6d98b29e">对象类型数组</span></strong><span data-lake-id="u3879fe1c" id="u3879fe1c">（如 </span><code data-lake-id="u1875d967" id="u1875d967"><span data-lake-id="u32678bf6" id="u32678bf6">String[]</span></code><span data-lake-id="u78952e9a" id="u78952e9a">, </span><code data-lake-id="u2abafb90" id="u2abafb90"><span data-lake-id="u7b6a8a23" id="u7b6a8a23">Integer[]</span></code><span data-lake-id="u0e30f7bf" id="u0e30f7bf"> 等）<br /></span><span data-lake-id="u409ed7f5" id="u409ed7f5">使用的</span><strong><span data-lake-id="ufcb63c39" id="ufcb63c39">改进的 Timsort 算法（归并排序+插入排序）</span></strong><span data-lake-id="ua1d11414" id="ua1d11414">，适用于部分排好的数据。</span></li></ul></details><details data-lake-id="u6655606e" id="u6655606e" open="false" class="lake-collapse"><summary data-lake-id="uf05c6c39" id="uf05c6c39" class="lake-summary"><strong><span data-lake-id="udbb40539" id="udbb40539">引用还是副本？lists.add(list)时，慎用list.clear()。</span></strong></summary><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%E7%A4%BA%E4%BE%8B%E8%AF%B4%E6%98%8E%22%2C%22mode%22%3A%22java%22%2C%22code%22%3A%22List%3CList%3CInteger%3E%3E%20lists%20%3D%20new%20ArrayList%3C%3E()%3B%5CnList%3CInteger%3E%20list%20%3D%20new%20ArrayList%3C%3E()%3B%5Cn%5Cnlist.add(1)%3B%5Cnlist.add(2)%3B%5Cnlists.add(list)%3B%20%20%2F%2F%20%E5%B0%86%20list%20%E6%B7%BB%E5%8A%A0%E5%88%B0%20lists%20%E4%B8%AD%5Cn%5Cnlist.clear()%3B%20%20%20%20%20%2F%2F%20%E6%B8%85%E7%A9%BA%20list%5Cnlist.add(3)%3B%20%20%20%20%20%20%2F%2F%20%E4%BF%AE%E6%94%B9%20list%5Cnlists.add(list)%3B%20%20%2F%2F%20%E5%86%8D%E6%AC%A1%E5%B0%86%E4%BF%AE%E6%94%B9%E5%90%8E%E7%9A%84%20list%20%E6%B7%BB%E5%8A%A0%E5%88%B0%20lists%20%E4%B8%AD%5Cn%5Cn%2F%2F%20%E6%AD%A4%E6%97%B6%20lists%20%E4%B8%AD%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%85%83%E7%B4%A0%E9%83%BD%E6%8C%87%E5%90%91%E5%90%8C%E4%B8%80%E4%B8%AA%20list%20%E5%AF%B9%E8%B1%A1%5CnSystem.out.println(lists)%3B%5Ct%2F%2F%20%5B%5B3%5D%2C%5B3%5D%5D%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%E7%A4%BA%E4%BE%8B%E8%AF%B4%E6%98%8E%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22default%22%2C%22fontSize%22%3A14%2C%22customStyle%22%3A%5B%5D%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22cPl9c%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%22%2C%22mode%22%3A%22java%22%2C%22code%22%3A%22List%3CList%3CInteger%3E%3E%20lists%20%3D%20new%20ArrayList%3C%3E()%3B%5CnList%3CInteger%3E%20list%20%3D%20new%20ArrayList%3C%3E()%3B%5Cn%5Cnlist.add(1)%3B%5Cnlist.add(2)%3B%5Cnlists.add(new%20ArrayList%3C%3E(list))%3B%20%20%2F%2F%20%E6%B7%BB%E5%8A%A0%20list%20%E7%9A%84%E5%89%AF%E6%9C%AC%5Cn%5Cnlist.clear()%3B%20%20%2F%2F%20%E6%B8%85%E7%A9%BA%E5%8E%9F%E5%A7%8B%20list%5Cnlist.add(3)%3B%5Cnlists.add(new%20ArrayList%3C%3E(list))%3B%20%20%2F%2F%20%E6%B7%BB%E5%8A%A0%20list%20%E7%9A%84%E6%96%B0%E5%89%AF%E6%9C%AC%5Cn%5Cn%2F%2F%20%E6%AD%A4%E6%97%B6%20lists%20%E4%B8%AD%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%85%83%E7%B4%A0%E6%98%AF%E4%B8%A4%E4%B8%AA%E7%8B%AC%E7%AB%8B%E7%9A%84%20List%20%E5%AF%B9%E8%B1%A1%5CnSystem.out.println(lists)%3B%5Ct%2F%2F%20%5B%5B1%2C2%5D%2C%5B3%5D%5D%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22default%22%2C%22fontSize%22%3A14%2C%22customStyle%22%3A%5B%5D%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22EKcgv%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="udce0f163" id="udce0f163"><br></p></details><details data-lake-id="u494da08f" id="u494da08f" open="false" class="lake-collapse"><summary data-lake-id="ud8bae4b6" id="ud8bae4b6" class="lake-summary"><strong><span data-lake-id="ub89e88f1" id="ub89e88f1">Java中的IntegerA.equals(IntegerB)和IntegerA == IntegerB有什么区别？</span></strong></summary><p data-lake-id="u7beee895" id="u7beee895"><strong><span data-lake-id="ubf38b347" id="ubf38b347">equals()：</span></strong><span data-lake-id="u5f044b31" id="u5f044b31">比较的是</span><span data-lake-id="ue45a092b" id="ue45a092b" style="color: #117CEE">数值</span><span data-lake-id="ubf4905e9" id="ubf4905e9">是否相同，不管它们是否是不同的对象。  </span></p><p data-lake-id="ub92a701c" id="ub92a701c"><strong><span data-lake-id="u908f4dc3" id="u908f4dc3">==：</span></strong><span data-lake-id="u68b98e14" id="u68b98e14"> 比较两个 </span><code data-lake-id="ucc228f65" id="ucc228f65"><span data-lake-id="u6b643db0" id="u6b643db0">Integer</span></code><span data-lake-id="uf7bd2fe1" id="uf7bd2fe1"> 对象</span><span data-lake-id="u118015f7" id="u118015f7" style="color: #117CEE">是否是同一个实例</span><span data-lake-id="u4b033d14" id="u4b033d14">。</span></p><ul list="u379c2147"><li fid="u10de8ec9" data-lake-id="u5ca5e813" id="u5ca5e813"><span data-lake-id="u79fac203" id="u79fac203">对于较小的整数（通常是 </span><code data-lake-id="u925b2159" id="u925b2159"><span data-lake-id="u2c3e225c" id="u2c3e225c">-128</span></code><span data-lake-id="u0353a88e" id="u0353a88e"> 到 </span><code data-lake-id="u0bfabd9a" id="u0bfabd9a"><span data-lake-id="uab44b970" id="uab44b970">127</span></code><span data-lake-id="u9cc0455c" id="u9cc0455c"> 之间），Java 的 </span><code data-lake-id="uda35dcf5" id="uda35dcf5"><span data-lake-id="uf73f515a" id="uf73f515a">Integer</span></code><span data-lake-id="u930d02f4" id="u930d02f4"> 会在内部缓存这些值，这被称为</span><strong><span data-lake-id="u0a5a98bf" id="u0a5a98bf">整数缓存</span></strong><span data-lake-id="u3a746dec" id="u3a746dec">。在这个范围内的 </span><code data-lake-id="ue67e0ccb" id="ue67e0ccb"><span data-lake-id="u1c9fb312" id="u1c9fb312">Integer</span></code><span data-lake-id="u9a497354" id="u9a497354"> 对象可以直接通过引用比较为相等，因为它们是从缓存中获取的同一个对象。</span></li><li fid="u10de8ec9" data-lake-id="uc0090ebf" id="uc0090ebf"><span data-lake-id="u0154704c" id="u0154704c">超出这个范围的 </span><code data-lake-id="u0ebf333f" id="u0ebf333f"><span data-lake-id="ud5119665" id="ud5119665">Integer</span></code><span data-lake-id="u2d369ebf" id="u2d369ebf"> 则每次都会创建新的对象，因此即使它们的值相等，引用也不同。  </span></li></ul><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22euqals()%20vs%20%3D%3D%22%2C%22mode%22%3A%22java%22%2C%22code%22%3A%22Integer%20integerA%20%3D%20100%3B%5CnInteger%20integerB%20%3D%20100%3B%5Cnboolean%20result%20%3D%20(integerA%20%3D%3D%20integerB)%3B%20%5Cn%2F%2F%20%E7%BB%93%E6%9E%9C%E4%B8%BA%20true%EF%BC%8C%E5%9B%A0%E4%B8%BA%E8%BF%99%E4%B8%A4%E4%B8%AA%E5%BC%95%E7%94%A8%E6%8C%87%E5%90%91%E5%90%8C%E4%B8%80%E4%B8%AA%E7%BC%93%E5%AD%98%E7%9A%84%E5%AF%B9%E8%B1%A1%5Cn%5CnInteger%20integerC%20%3D%201000%3B%5CnInteger%20integerD%20%3D%201000%3B%5Cnboolean%20result2%20%3D%20(integerC%20%3D%3D%20integerD)%3B%20%5Cn%2F%2F%20%E7%BB%93%E6%9E%9C%E4%B8%BA%20false%EF%BC%8C%E5%9B%A0%E4%B8%BA%E8%BF%99%E4%B8%A4%E4%B8%AA%E5%BC%95%E7%94%A8%E6%8C%87%E5%90%91%E4%B8%8D%E5%90%8C%E7%9A%84%E5%AF%B9%E8%B1%A1%5Cn%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22euqals()%20vs%20%3D%3D%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22default%22%2C%22fontSize%22%3A14%2C%22customStyle%22%3A%5B%5D%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22tJt6O%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D"></card><p data-lake-id="u77aed29d" id="u77aed29d"><span data-lake-id="u2c85ad8a" id="u2c85ad8a">​</span><br></p></details>